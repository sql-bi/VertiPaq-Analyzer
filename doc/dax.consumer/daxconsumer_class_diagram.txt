---
Title: Tcdx format
---

classDiagram
    class ConsumersCollection {
        Dictionary~string_TcdxName~ ConsumerCollectionProperties
        List~Consumer~ Consumers
    }
    class QueryGroupsCollection {
        Dictionary~string_TcdxName~ QueryGroupsCollectionProperties
        List~QueryGroup~ QueryGroups
    }
    class Model {
        <<Dax.Metadata>> 
    }
    class Table {
        <<Dax.Metadata>> 
    }
    class Measure {
        <<Dax.Metadata>> 
    }
    class Column {
        <<Dax.Metadata>> 
    }
    class Consumer{
        EnumConsumerType ConsumerType
        TcdxName HostName
        %% Container is like path but more generic
        TcdxName Container
        TcdxName FileName
        TcdxName Uri
        DateTime UtcAcquisition
        DateTime UtcModification
        Dictionary~string_TcdxName~ ConsumerProperties
        List~Items~ Items
        GetModels() IEnumerable~ModelDependency~
    }
    class ColumnDependency {
        ModelDependency Model
        TcdxName TableName
        TcdxName ColumnName
        TableDepenency Table
        Column ModelColumn
    }
    class ModelDependency {
        TcdxName ServerName
        TcdxName ModelName
        Model Model
    }
    class TableDependency {
        ModelDependency Model
        TcdxName TableName
        Table ModelTable
    }
    class MeasureDependency {
        ModelDependency Model
        TcdxName MeasureName
        TableDependency Table
        Measure ModelMeasure
    }
    class Item{
        Dictionary~string_TcdxName~ ItemProperties
        ModelDependency Model
        List~TableDependency~ TableDependencies
        List~ColumnDependency~ ColumnDependencies
        List~MeasureDependency~ MeasureDependencies
    }
    class QueryGroup {
        string CorrelationId
        note: "Query Analytics [Azure], Extended Events, Profiler, Others"
        EnumQueryGroupType QueryGroupType
        TcdxName QueryGroupName
        Dictionary~string_TcdxName~ QueryGroupProperties
        ModelDependency Model
        Item Item
        Dictionary~string_int~ TableQueries
        Dictionary~string_int~ ColumnQueries
        Dictionary~string_int~ MeasureQueries
        Dictionary~string_int~ TokenQueries
        long TotalExecTimeMilliseconds
        int NumberOfQueries
        int maxExecTimeMilliseconds
        int minExecTimeMilliseconds
        int AverageTimeMilliseconds
        double StandardDeviationTimeMilliseconds
        DateTime UtcStart
        DateTime UtcEnd
        note: "consider DateTimeOffset for UtcStart / UtcEnd"
    }
    ConsumersCollection "1" --o "n" Consumer
    QueryGroupsCollection "1" --o "n" QueryGroup
    Consumer "0" --* "n" Item
    ColumnDependency --o ModelDependency
    ColumnDependency --o TableDependency
    ColumnDependency --o Column
    ModelDependency --o Model
    TableDependency --o ModelDependency
    TableDependency --o Table
    MeasureDependency --o ModelDependency
    MeasureDependency --o TableDependency
    MeasureDependency --o Measure
    Item "0" --* "n" TableDependency
    Item "0" --* "n" ColumnDependency
    Item "0" --* "n" MeasureDependency
    Item --* ModelDependency
    QueryGroup .. Item
    QueryGroup -- ModelDependency


